<!-- Social Components -->
{% load static %}

<link rel="stylesheet" href="{% static 'css/social.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">

<!-- Social Side Panel -->
<div class="social-panel" id="social-panel">
    <!-- Current User Profile -->
    <div class="user-profile" id="current-user-profile">
        <div class="avatar-container">
            <img src="" alt="Your Avatar" class="avatar" id="current-user-avatar">
            <span class="status-indicator online"></span>
        </div>
        <span class="username" id="current-user-name">Username</span>
    </div>
    
    <!-- Friend Search -->
    <div class="friend-search">
        <i class="fas fa-search"></i>
        <input type="text" placeholder="Search players..." id="friend-search-input">
    </div>
    
    <!-- Friends List -->
    <ul class="friends-list" id="friends-list">
        <!-- Friends will be added here dynamically -->
    </ul>
</div>

<!-- Profile Modal -->
<div class="profile-modal" id="profile-modal">
    <div class="profile-content">
        <!-- Profile Header -->
        <div class="profile-header">
            <img src="" alt="User Avatar" class="avatar" id="profile-avatar">
            <div class="profile-info">
                <h2 id="profile-username">Username</h2>
                <div class="profile-status" id="profile-status">Online</div>
            </div>
            <div class="profile-actions" id="profile-actions">
                <!-- Action buttons added dynamically -->
            </div>
            <button class="close-btn" id="close-profile">&times;</button>
        </div>
        
        <!-- Profile Tabs -->
        <div class="profile-tabs">
            <div class="profile-tab active" data-tab="match-history">Match History</div>
            <div class="profile-tab" data-tab="chat">Chat</div>
        </div>
        
        <!-- Tab Content -->
        <div class="tab-content">
            <!-- Match History Tab -->
            <div class="tab-pane active" id="match-history">
                <div class="match-history" id="match-history-container">
                    <!-- Match history items added dynamically -->
                </div>
            </div>
            
            <!-- Chat Tab -->
            <div class="tab-pane" id="chat">
                <div class="profile-chat">
                    <div class="chat-messages" id="profile-chat-messages">
                        <!-- Chat messages added dynamically -->
                    </div>
                    <div class="chat-input">
                        <input type="text" placeholder="Type a message..." id="profile-chat-input">
                        <button type="submit" id="profile-chat-send"><i class="fas fa-paper-plane"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Edit Profile Modal -->
<div class="modal" id="edit-profile-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Edit Profile</h2>
            <button class="close-btn" id="close-edit-profile">&times;</button>
        </div>
        <div class="modal-body">
            <div class="edit-avatar">
                <img src="" alt="Your Avatar" id="edit-avatar-preview">
                <div class="avatar-upload">
                    <label for="edit-avatar-input" class="avatar-upload-btn">
                        <i class="fas fa-camera"></i> Change Avatar
                    </label>
                    <input type="file" id="edit-avatar-input" accept="image/*" style="display: none;">
                </div>
            </div>
            
            <div class="form-group">
                <label for="edit-username">Username</label>
                <input type="text" id="edit-username" class="form-input">
            </div>
            
            <div class="form-group">
                <label for="edit-password">New Password</label>
                <input type="password" id="edit-password" class="form-input" placeholder="Leave blank to keep current password">
            </div>
        </div>
        <div class="modal-footer">
            <button id="save-profile" class="btn primary">Save Changes</button>
        </div>
    </div>
</div>

<!-- Templates -->
<!-- Friend Item Template -->
<template id="friend-template">
    <li class="friend-item">
        <div class="friend-avatar-container">
            <img data-field="avatar" src="" alt="Friend Avatar" class="friend-avatar">
            <span data-field="status" class="status-indicator"></span>
        </div>
        <span data-field="username" class="username">Friend Name</span>
        <div data-field="message" class="new-messages" style="display: none;">0</div>
    </li>
</template>

<!-- Message Template -->
<template id="message-template">
    <div class="message"></div>
</template>

<!-- Match History Item Template -->
<template id="match-item-template">
    <div class="match-item">
        <div class="match-info">
            <div data-field="date" class="match-date">Date</div>
            <div data-field="result" class="match-result">Result</div>
        </div>
        <div data-field="score" class="match-score">Score</div>
    </div>
</template>

<!-- Action Button Template -->
<template id="action-button-template">
    <button class="profile-action-btn"></button>
</template>

<!-- Empty State Template -->
<template id="empty-state-template">
    <div class="empty-state">
        <i data-field="icon" class="fas"></i>
        <p data-field="message"></p>
    </div>
</template>

<!-- JavaScript -->
<script src="{% static 'js/social/main.js' %}" type="module"></script>